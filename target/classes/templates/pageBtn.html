<!DOCTYPE html>
<!--suppress ThymeleafVariablesResolveInspection -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" th:href="@{/css/font.css}">
    <link rel="stylesheet" th:href="@{/css/xadmin.css}">
    <link rel="stylesheet" th:href="@{/css/pg_btn.css}">
    <script th:src="@{/layui/jquery-3.5.1.min.js}"></script>
    <script th:src="@{/layui/layui.js}"></script>
    <script th:src="@{/js/xadmin.js}"></script>
    <title>图书馆后台管理</title>
</head>
<body>
<div class="page-bar" id="pg_div" th:fragment="pageBtn(totalCount,currentPageNo,totalPageCount)">
    <ul class="page-num-ul" style="width: 50%">
        <li class="pg-li" th:text="'共'+${totalCount}+'条记录&nbsp;&nbsp;'+${currentPageNo}+'/'+${totalPageCount}+'页'"  style="display: inline;"></li>
        <li class="pg-li" style="display: inline;padding-left: 30px">
           <a th:if="${currentPageNo}>1" class="pg_a" href="javascript:page_nav(document.forms[0],1);">首页</a>
           <a th:if="${currentPageNo}>1" class="pg_a" th:href="'javascript:page_nav(document.forms[0],'+ ${currentPageNo-1} +');'">上一页</a>
           <a th:if="${currentPageNo<totalPageCount}" class="pg_a" th:href="'javascript:page_nav(document.forms[0],'+${currentPageNo+1}+')'">下一页</a>
           <a th:if="${currentPageNo}<${totalPageCount}" class="pg_a" th:href="'javascript:page_nav(document.forms[0],'+${totalPageCount}+');'">最后一页</a>
        </li>
    </ul>
    <ul class="page-go-form"><label>跳转至</label>
        <input type="text" name="inputPage" id="inputPage" class="page-key" />页
        <button type="button" class="page-btn" onClick='jump_to(document.forms[0],document.getElementById("inputPage").value)'>GO</button>
    </ul>
    <script>
        function page_nav(frm,num) {
            frm.pageIndex.value = num;
            frm.submit();
        }

        function  jump_to(frm,num) {
//            ^n	匹配任何开头为 n 的字符串。
//            \d	查找数字。
//            n*	匹配任何包含零个或多个 n 的字符串。
//            n$	匹配任何结尾为 n 的字符串。
            var  regexp=/^[1-9]\d*$/;
            var  totalPageCount = document.getElementById("totalPageCount").value;
            if (!regexp.test(num)){
                alert("请输入大于0的正整数！");
                return false;
            }else if((num-totalPageCount)>0){
                alert("请输入小于总页数的页码");
                return false;
            }else{
                page_nav(frm,num);
            }
        }
    </script>
</div>

</body>
</html>